<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8">
      <div
        *ngIf="isError"
        class="alert alert-danger alert-dismissible fade show"
      >
        {{ errorMsg }}
        <button
          type="button"
          class="btn-close"
          (click)="isError = false"
        ></button>
      </div>
      <form #f="ngForm" (ngSubmit)="onSubmit(f)">
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="username" class="form-label">Nom d'utilisateur</label>
              <input
                class="form-control"
                type="text"
                name="username"
                id="username"
                ngModel
                required
              />
            </div>
          </div>

          <div class="col">
            <div class="mb-3">
              <label for="role" class="form-label">Role</label>
              <select
                class="form-select"
                name="role"
                id="role"
                [ngModel]="selectedRole"
              >
                <option *ngFor="let role of roles" [ngValue]="role.role">
                  {{ role.role }}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="firstName" class="form-label">Prénom</label>
              <input
                class="form-control"
                type="text"
                name="firstName"
                id="firstName"
                ngModel
                required
              />
            </div>
          </div>

          <div class="col">
            <div class="mb-3">
              <label for="lastName" class="form-label">Nom</label>
              <input
                class="form-control"
                type="text"
                name="lastName"
                id="lastName"
                ngModel
                required
              />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="password" class="form-label"
                >Nouveau mot de passe</label
              >
              <input
                class="form-control"
                type="password"
                name="password"
                id="password"
                ngModel
                required
                #password
              />
            </div>
          </div>

          <div class="col">
            <div class="mb-3">
              <label for="confirmPassword" class="form-label"
                >Confirmer mot de passe</label
              >
              <input
                class="form-control"
                type="password"
                name="confirmPassword"
                id="confirmPassword"
                ngModel
                required
                #confirmPassword
              />
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="enabled"
                id="enabled"
                ngModel
              />
              <label class="form-check-label" for="enabled">Activé</label>
            </div>
          </div>
        </div>

        <button
          [disabled]="!f.valid || confirmPassword.value !== password.value"
          type="submit"
          class="btn btn-primary"
        >
          Enregistrer
        </button>
      </form>
    </div>
  </div>
</div>
